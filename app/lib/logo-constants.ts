export const LETTERS = {
  U: { width: 288, height: 344, splitX: 144 },
  I: { width: 64, height: 344 },
  L: { width: 201, height: 344 },
  A: { width: 288, height: 344, splitX: 144 },
  B: { width: 300, height: 344, splitX: 150 },
} as const

export const PATHS = {
  U: "M64 0V286C64 295.941 72.0589 304 82 304H206C215.941 304 224 295.941 224 286V0H288V249.081C288 254.127 285.882 258.941 282.162 262.351L198.235 339.27C194.916 342.312 190.576 344 186.073 344H101.927C97.4239 344 93.0843 342.312 89.7646 339.27L5.83789 262.351C2.11803 258.941 6.58483e-05 254.127 0 249.081V0H64Z",
  I: "M0 0H64V344H0V0Z",
  L: "M64.32 0H0V249.054C0 254.116 2.13113 258.943 5.87112 262.354L90.2466 339.3C93.5624 342.324 97.888 344 102.375 344H201V304H82.32C72.3789 304 64.32 295.941 64.32 286V0Z",
  A: "M219.565 0C223.713 9.25891e-06 227.733 1.37865 230.946 4L281.302 49.5225C285.494 52.9419 287.926 57.5905 287.926 63V77H288V344H224V152H64V344H0V77H0.0742188V63C0.0741575 57.5905 2.50648 52.9419 6.69824 49.5225L57.0537 4C60.2673 1.37865 64.2875 9.25891e-06 68.4346 0H219.565ZM82.0742 40C72.1331 40 64.0742 48.3518 64.0742 58.293V77H64V112H224V77H223.926V58.293C223.926 48.3518 215.867 40 205.926 40H82.0742Z",
  B: "M234 0C238.147 9.25891e-06 242.307 1.37865 245.521 4L293 49.5225C297.192 52.9419 300 57.5905 300 63V89C300 94.4096 297.192 98.5805 293 102L247.532 132L293 161.522C297.192 164.942 300 170.065 300 175.475V280.709C300 286.119 297.192 291.242 293 294.661L245.521 340C242.307 342.621 238.147 344 234 344H100.926C96.4236 344 92.0847 343.041 88.7646 340L5.84375 264.404C2.12048 260.994 8.8632e-05 256.177 1.15755e-09 251.128C1.15755e-09 193.91 1.15755e-09 115.218 1.15755e-09 63C-6.12698e-05 57.5905 2.43226 52.9419 6.62402 49.5225L56.9795 4C60.1931 1.37865 64.2132 9.25891e-06 68.3604 0H234ZM64 285.707C64 295.648 72.0589 303.707 82 303.707L218 304C228 304 236 295.941 236 286V170.184C236 160.243 227.941 152.184 218 152.184H64V285.707ZM82 40C72.0589 40 64 48.3518 64 58.293V111.817H218C228 111.817 236 103.941 236 94V58C236 48.0589 227.941 40 218 40H82Z",
} as const

export const LOGO_BASE_WIDTH = LETTERS.U.width + LETTERS.I.width + LETTERS.L.width + LETTERS.A.width + LETTERS.B.width
export const EXPAND_PER_ROW = 800
export const ROW_HEIGHT = 344

export const LOGO_COLOR_BLUE = "#1A2FF7"

export const DEFAULT_ROWS = 7
export const DEFAULT_GAP = 20
export const DEFAULT_INTENSITY = 1.5
export const DEFAULT_DURATION = 0.8
export const DEFAULT_HOLD = 0.3

export function seededRandom(seed: number): number {
  const x = Math.sin(seed) * 10000
  return x - Math.floor(x)
}

export function generateRowShares(seed: number, intensity: number): number[] {
  const minShare = 0.02
  const baseShare = 0.25
  const effectiveIntensity = intensity * 2.5

  const rawWeights = Array.from({ length: 4 }, (_, i) => {
    const r = seededRandom(seed + i * 137)
    return 0.01 + Math.pow(r, 0.2 + r * 1.5)
  })

  const sum = rawWeights.reduce((a, b) => a + b, 0)
  const shares = rawWeights.map((w) => Math.max(minShare, w / sum))
  const intensified = shares.map((s) => Math.max(minShare, baseShare + (s - baseShare) * effectiveIntensity))
  const finalSum = intensified.reduce((a, b) => a + b, 0)

  return intensified.map((s) => (s / finalSum) * EXPAND_PER_ROW)
}
